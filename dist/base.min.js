"use strict";angular.module("angularBase",[]),angular.module("angularBase").provider("$angularBaseConfig",[function(){this.$get=function(){return this},this.config=function(r){for(var e in r)this[e]=r[e]}}]),angular.module("angularBase").service("Base",["$rootScope","$http","$q","$angularBaseConfig",function(r,e,t,i){function s(){var r="must be defined";if(this.errors={"ctrl-defined":"If your class extends the base service is must have this.ctrl defined","id-defined":"id "+r,"key-value-defined":"where "+r,"fill-first":"You must call fill on this object","fill-defined":"_fill "+r,"fill-type-object":"_fill must be of type 'object'","method-defined":"'method' "+r,"url-defined":"'url' "+r,"q-defined":"'q' "+r,$angularBaseConfigProvider_errors:"$angularBaseConfigProvider.api & $angularBaseConfigProvider.cache are not set"},!i||!i.api||"undefined"==typeof i.cache)throw new Error(this.errors.$angularBaseConfigProvider_errors);this.all=function(){if(!this.ctrl)throw new Error(this.errors["ctrl-defined"]);return this.request("GET",null,i.api+this.ctrl,null,t.defer())},this.get=function(r){if(!r)throw new Error(this.errors["id-defined"]);if(!this.ctrl)throw new Error(this.errors["ctrl-defined"]);return this.request("GET",null,i.api+this.ctrl+r,null,t.defer())},this.where=function(r){if(!r)throw new Error(this.errors["key-value-defined"]);if(!this.ctrl)throw new Error(this.errors["ctrl-defined"]);return this.request("GET",null,i.api+this.ctrl+"?where="+angular.toJson(r),null,t.defer())},this.fill=function(r){if(!r)throw new Error(this.errors["fill-defined"]);if("object"!=typeof r)throw new Error(this.errors["fill-type-object"]);this.data=r},this.create=function(){if(!this.data)throw new Error(this.errors["fill-first"]);if(!this.ctrl)throw new Error(this.errors["ctrl-defined"]);return this.request("POST",null,i.api+this.ctrl,this.data,t.defer())},this.update=function(r){if(!this.data)throw new Error(this.errors["fill-first"]);if(!this.ctrl)throw new Error(this.errors["ctrl-defined"]);if(!r)throw new Error(this.errors["id-defined"]);return this.request("PUT",null,i.api+this.ctrl+r,this.data,t.defer())},this["delete"]=function(r){if(!r)throw new Error(this.errors["id-defined"]);if(!this.ctrl)throw new Error(this.errors["ctrl-defined"]);return this.request("DELETE",null,i.api+this.ctrl+r,null,t.defer())},this.request=function(r,t,s,n,o){if(!r||"POST"!=r&&"GET"!=r&&"PUT"!=r&&"DELETE"!=r)throw new Error(this.errors["method-defined"]);if(!s)throw new Error(this.errors["url-defined"]);if(!o||!o.promise)throw new Error(this.errors["q-defined"]);return e({method:r,url:s,data:n,header:t?t:"{Content-Type: application/json}",cache:i.cache}).success(function(r,e,t){var i={};i.data=r,i.headers=t,i.status=e,o.resolve(i)}).error(function(r,e,t){var i={};i.data=r,i.headers=t,i.status=e,o.resolve(i)}),o.promise}}return s}]);